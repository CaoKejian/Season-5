(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Goods"],{"0635":function(s,i,t){"use strict";t("7e1e")},4501:function(s,i,t){s.exports=t.p+"img/goods.fb67d016.png"},"7e1e":function(s,i,t){},8629:function(s,i,t){"use strict";t.r(i);var e=function(){var s=this,i=s._self._c;return i("div",{staticClass:"allgoods"},[i("div",{staticClass:"all-topbar"},[i("div",{staticClass:"fake"}),i("div",{staticClass:"top-right"},[i("div",{staticClass:"main-left"}),i("div",{staticClass:"main-right"},[i("div",[s._m(0),i("ul",{staticClass:"paixu"},[i("li",{on:{click:function(i){s.sortType=1}}},[s._v("价格升序")]),i("li",{on:{click:function(i){s.sortType=2}}},[s._v("价格降序")])])]),i("div",[i("span",{on:{click:function(i){s.sortType=3}}},[s._v("按销量")])]),i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:s.keyWord,expression:"keyWord"}],attrs:{type:"text",placeholder:"请输入你所要查询的内容",onfocus:"this.placeholder=''",onblur:"this.placeholder='请输入你所要查询的内容'"},domProps:{value:s.keyWord},on:{input:function(i){i.target.composing||(s.keyWord=i.target.value)}}}),i("div",{staticClass:"input-search",on:{click:function(i){return s.searchButton()}}},[i("i",{staticClass:"iconfont icon-sousuo"})])])])]),i("div",{staticClass:"all-kinds"},[s._m(1),i("div",{staticClass:"kinds-line"}),i("div",{staticClass:"kinds-right"},[i("div",{staticClass:"years"},[i("ul",s._l(s.arrYear,(function(t,e){return i("li",{key:e,class:s.num1==e?"active":"",on:{click:function(i){return s.yearClick(e,t.type)}}},[s._v(" "+s._s(t.year)+" ")])})),0)]),i("div",{staticClass:"jiu-kinds"},[i("ul",s._l(s.arrKinds,(function(t,e){return i("li",{key:e,class:s.num2==e?"active":"",on:{click:function(i){return s.kindsClick(e,t.kinds)}}},[s._v(" "+s._s(t.name)+" ")])})),0)]),i("div",{staticClass:"price-kinds"},[i("ul",s._l(s.arrPrice,(function(t,e){return i("li",{key:e,class:s.num3==e?"active":"",on:{click:function(i){return s.priceClick(e,t.rear)}}},[s._v(" "+s._s(t.price)+" ")])})),0)])])])]),i("div",{staticClass:"all-showgoods"},[s._m(2),i("div",{staticClass:"showgoods"},[i("div",{staticClass:"show-small"},s._l(s.arrimgGoods,(function(t,e){return i("ul",{key:t.id},[i("li",[i("div",{on:{click:function(i){return s.goToDetails(t.id)}}},[i("img",{attrs:{src:t.img,alt:""}})]),i("b",[s._v(s._s(t.name))]),i("br"),i("br"),i("span",[s._v("销量："+s._s(t.sales)+" ")]),i("b",{staticClass:"small-price"},[s._v("￥ "+s._s(t.price))])])])})),0)])]),i("div",{staticClass:"jiazai"},[i("p",{},[s._v(" "+s._s(s.isReachBottom?"还在加载哦":"已经加载全部商品啦")),i("span",{directives:[{name:"show",rawName:"v-show",value:s.isReachBottom,expression:"isReachBottom"}],staticClass:"iconfont icon-jiazai"})])])])},o=[function(){var s=this,i=s._self._c;return i("span",{staticClass:"select-price"},[s._v("按价格 "),i("i",{staticClass:"iconfont icon-sanjiao1"})])},function(){var s=this,i=s._self._c;return i("div",{staticClass:"kinds-left"},[i("div",[i("span",[s._v("年份")])]),i("div",[i("span",[s._v("品类")])]),i("div",[i("span",[s._v("价格区间")])])])},function(){var s=this,i=s._self._c;return i("div",{staticClass:"showgoodsImg"},[i("img",{attrs:{src:t("4501"),alt:""}})])}],a=(t("14d9"),t("6fdc")),r=t("ed08"),c=(t("bc3a"),t("2f62")),n={inject:["reload"],data(){return{shujv2:a,sortType:2,keyWord:"",arrYear:[{year:"全部",type:0},{year:"2000-2010年间",type:1},{year:"2010-2020年间",type:2},{year:"2020年以后",type:3}],num1:0,arrKinds:[{name:"全部",kinds:0},{name:"白葡萄酒",kinds:1},{name:"红葡萄酒",kinds:2},{name:"威士忌",kinds:3},{name:"甜酒",kinds:4}],num2:0,arrPrice:[{price:"全部",rear:0},{price:"0-500",rear:1},{price:"500-1000",rear:2},{price:"1000-1500",rear:3},{price:"1500-3000",rear:4},{price:"3000以上",rear:5}],num3:0,imgGoods:[],imgGoodsShow:[],page:0,size:10,isLoading:!1,isReachBottom:!1,newarr:[]}},mounted(){window.addEventListener("scroll",this.scrollFn),this.newarr=a},beforeDestroy(){window.removeEventListener("scroll",this.scrollFn)},methods:{yearClick(s,i){this.num1=s,console.log(i),0===i&&this.goodsSearch(),3===s?(this.goodsSearch(),setTimeout(()=>{this.imgGoods=this.imgGoods.filter(s=>s.name.slice(0,4)>2020)},1)):2===s?(this.goodsSearch(),setTimeout(()=>{this.imgGoods=this.imgGoods.filter(s=>s.name.slice(0,4)>2010&&s.name.slice(0,4)<=2020)},1)):1===s&&(this.goodsSearch(),setTimeout(()=>{this.imgGoods=this.imgGoods.filter(s=>s.name.slice(0,4)<2010&&s.name.slice(0,4)>2e3)},1))},kindsClick(s,i){this.num2=s,1===i?(this.goodsSearch(),setTimeout(()=>{this.imgGoods=this.imgGoods.filter(s=>"白葡萄酒"===s.kinds)},1)):2===i?(this.goodsSearch(),setTimeout(()=>{this.imgGoods=this.imgGoods.filter(s=>"红葡萄酒"==s.kinds)},1)):3===i?(this.goodsSearch(),setTimeout(()=>{this.imgGoods=this.imgGoods.filter(s=>"威士忌"==s.kinds)},1)):4===i&&(this.goodsSearch(),setTimeout(()=>{this.imgGoods=this.imgGoods.filter(s=>"甜酒"===s.kinds)},1)),0===i&&this.goodsSearch()},priceClick(s,i){this.num3=s,this.imgGoods=this.imgGoods.filter(s=>s.price>3e3),0===i&&this.goodsSearch(),1===i?(this.goodsSearch(),setTimeout(()=>{this.imgGoods=this.imgGoods.filter(s=>s.price>0&&s.price<=500)})):2===i?(this.goodsSearch(),setTimeout(()=>{this.imgGoods=this.imgGoods.filter(s=>s.price>500&&s.price<=1e3)})):3===i?(this.goodsSearch(),setTimeout(()=>{this.imgGoods=this.imgGoods.filter(s=>s.price>1e3&&s.price<=1500)})):4===i?(this.goodsSearch(),setTimeout(()=>{this.imgGoods=this.imgGoods.filter(s=>s.price>1500&&s.price<=3e3)})):5===i&&(this.goodsSearch(),setTimeout(()=>{this.imgGoods=this.imgGoods.filter(s=>s.price>3e3)}))},goToDetails(s){this.$router.push("/details?id="+s)},searchButton(){this.keyWord?this.imgGoods=this.arrimgGoods.filter(s=>(console.log(this.imgGoods),-1!==s.name.indexOf(this.keyWord))):""==this.keyWord&&this.asyncChanIsShowToast({msg:"搜索不能为空哦",type:"warning"})},scrollFn(){Object(r["c"])()+Object(r["a"])()>=Object(r["b"])()-10&&console.log(123123)},async goodsSearch(){var s=await a;this.imgGoods=s},...Object(c["b"])({asyncChanIsShowToast:"toastStatus/asyncChanIsShowToast"})},watch:{keyWord:{handler(s,i){""===this.keyWord&&setTimeout(()=>{this.goodsSearch()},500)},deep:!0}},computed:{arrimgGoods(){return this.imgGoods.sort((s,i)=>1===this.sortType?s.price-i.price:2===this.sortType?i.price-s.price:i.sales-s.sales)}},created(){this.goodsSearch()}},d=n,l=(t("0635"),t("2877")),h=Object(l["a"])(d,e,o,!1,null,"7ed5e7e3",null);i["default"]=h.exports}}]);